.include "macros.inc"

.section .text, "ax"  # 0x80006980 - 0x803E1E60

.global VFiPFDIR_FinalizeAllDirs
VFiPFDIR_FinalizeAllDirs:
/* 8030B238 00306E98  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8030B23C 00306E9C  7C 08 02 A6 */	mflr r0
/* 8030B240 00306EA0  90 01 00 24 */	stw r0, 0x24(r1)
/* 8030B244 00306EA4  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8030B248 00306EA8  3B E0 00 00 */	li r31, 0
/* 8030B24C 00306EAC  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8030B250 00306EB0  3B C0 00 00 */	li r30, 0
/* 8030B254 00306EB4  93 A1 00 14 */	stw r29, 0x14(r1)
/* 8030B258 00306EB8  7C 7D 1B 78 */	mr r29, r3
lbl_8030B25C:
/* 8030B25C 00306EBC  57 C0 04 3E */	clrlwi r0, r30, 0x10
/* 8030B260 00306EC0  1C 00 02 80 */	mulli r0, r0, 0x280
/* 8030B264 00306EC4  7C 7D 02 14 */	add r3, r29, r0
/* 8030B268 00306EC8  93 E3 0E 00 */	stw r31, 0xe00(r3)
/* 8030B26C 00306ECC  38 63 0E 08 */	addi r3, r3, 0xe08
/* 8030B270 00306ED0  48 00 5E C5 */	bl VFiPFFAT_FinalizeFFD
/* 8030B274 00306ED4  3B DE 00 01 */	addi r30, r30, 1
/* 8030B278 00306ED8  28 1E 00 03 */	cmplwi r30, 3
/* 8030B27C 00306EDC  41 80 FF E0 */	blt lbl_8030B25C
/* 8030B280 00306EE0  80 BD 15 80 */	lwz r5, 0x1580(r29)
/* 8030B284 00306EE4  38 00 00 00 */	li r0, 0
/* 8030B288 00306EE8  80 9D 15 A0 */	lwz r4, 0x15a0(r29)
/* 8030B28C 00306EEC  80 7D 15 C0 */	lwz r3, 0x15c0(r29)
/* 8030B290 00306EF0  54 A5 00 3C */	rlwinm r5, r5, 0, 0, 0x1e
/* 8030B294 00306EF4  54 84 00 3C */	rlwinm r4, r4, 0, 0, 0x1e
/* 8030B298 00306EF8  90 BD 15 80 */	stw r5, 0x1580(r29)
/* 8030B29C 00306EFC  54 63 00 3C */	rlwinm r3, r3, 0, 0, 0x1e
/* 8030B2A0 00306F00  90 9D 15 A0 */	stw r4, 0x15a0(r29)
/* 8030B2A4 00306F04  90 7D 15 C0 */	stw r3, 0x15c0(r29)
/* 8030B2A8 00306F08  90 1D 15 E4 */	stw r0, 0x15e4(r29)
/* 8030B2AC 00306F0C  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8030B2B0 00306F10  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8030B2B4 00306F14  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8030B2B8 00306F18  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8030B2BC 00306F1C  7C 08 03 A6 */	mtlr r0
/* 8030B2C0 00306F20  38 21 00 20 */	addi r1, r1, 0x20
/* 8030B2C4 00306F24  4E 80 00 20 */	blr
